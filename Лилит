#!/usr/bin/tclsh
puts "Введите дату начала периода в формате ДД.ММ.ГГГГ"
set a [expr [exec swetest -b[gets stdin] | grep ET: | cut -c 5-23] + 0]
puts "Введите дату окончания периода в формате ДД.ММ.ГГГГ "
set b [expr [exec swetest -b[gets stdin] | grep ET: | cut -c 5-23] + 0]
while {$a < $b} {
# Использую следующие коэффициенты:
# 2566.073580248 до 28.01.206
# 2413637.073580248 от 28.01.206 до 19.03.1896
# 2413638.0735555554275 от 19.03.1896 до 07.01.1968
# 2439494.0744444445 от 07.01.1968
puts "[expr int([expr ($a-2566.074495)*360/3232])%360+[expr ($a-2566.074495)*360/3232]-int([expr ($a-2566.074495)*360/3232])]"
set a [expr {$a + 1}]
}
# 00:00:00 UTC 21/08/2013 = 97,06472222222
